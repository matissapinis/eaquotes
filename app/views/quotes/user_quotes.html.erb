<h2>Your Quotes</h2>

<ul>
    <% if @user_quotes.present? %>
        <% @user_quotes.each do |quote| %>
            <li>
                ‚Äú<%= quote.content %>‚Äù<br>‚Äï <strong><%= quote.attribution %></strong><% if quote.source.present? %><% if quote.source_link.present? %>, <%= link_to quote.source, quote.source_link %><% else %>, <%= quote.source %><% end %><% end %>
                <br>
                <small>
                    <!-- Posted by: Matƒ´ss Apinis on August 10, 2023   ü§ç 0 üîº 0 üîΩ 0 -->
                    Posted on <%= quote.created_at.strftime("%B %d, %Y") %>
                    &nbsp; 
                    <!-- ## Show favorites: -->
                    <% if current_user.favorited_quotes.include?(quote) %>
                        <%= link_to '‚ù§', remove_favorite_quote_path(quote, page: params[:page]), method: :delete %>
                    <% else %>
                        <%= link_to 'ü§ç', add_favorite_quote_path(quote, page: params[:page]), method: :post %>
                    <% end %>
                    <%= quote.favoriting_users.count %>
                    <!-- ## Show upvotes and downvotes: -->
                    <% if current_user.upvoted_quotes.include?(quote) %>
                        <%= link_to 'üëç', upvote_quote_path(quote, page: params[:page]), method: :post %>
                    <% else %>
                        <%= link_to 'üîº', upvote_quote_path(quote, page: params[:page]), method: :post %>
                    <% end %> 
                    <%= quote.upvoted_users.count %>
                    <% if current_user.downvoted_quotes.include?(quote) %>
                        <%= link_to 'üëé', downvote_quote_path(quote, page: params[:page]), method: :post %>
                    <% else %>
                        <%= link_to 'üîΩ', downvote_quote_path(quote, page: params[:page]), method: :post %>
                    <% end %> 
                    <%= quote.downvoted_users.count %>
                </small>
                <br>
                <!-- ## Display topics for the quote: -->
                <small>Topics:<% quote.topics.each do |topic| %>
                    <%= link_to topic.name, topic_path(topic) %>
                    <% unless topic == quote.topics.last %> | <% end %> <!-- ## Separator between topics unless it's the last topic. -->
                <% end %></small>
                <br>
                <br>
                <%= link_to "Edit", edit_quote_path(quote) %> |
                <%= link_to "Delete", quote_path(quote), method: :delete, data: { confirm: "Are you sure?" } %>
            </li>
            <br>
        <% end %>
    <% else %>
        <p>You haven't added any quotes yet.</p>
    <% end %>
</ul>

<!-- ## Pagination: -->
<%= will_paginate @user_quotes %>